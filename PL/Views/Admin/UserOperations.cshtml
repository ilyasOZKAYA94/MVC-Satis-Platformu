@model IEnumerable<Entity.Identity.ApplicationUser>

@{
    ViewBag.Title = "UserOperations";
    Layout = "~/Views/Shared/_AdminLayoutPage.cshtml";
}

@if (Model.Count() != 0)
{

    <div class="container">
        <div class="row col-md-12 custyle" style="padding-left:50px;">
            <table class="table table-striped custab">
                <thead>
                    <tr>
                        <th>İsim Soyisim</th>
                        <th>Email</th>
                        <th>Kullanıcı Adı</th>
                        <th>Telefon Numarası</th>
                        <th class="text-center">İşlemler</th>
                    </tr>
                </thead>
                @foreach (var item in Model)
                {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Name) @Html.DisplayFor(modelItem => item.Surname)</td>
                    <td>@Html.DisplayFor(modelItem => item.Email)</td>
                    <td>@Html.DisplayFor(modelItem => item.UserName)</td>
                    <td>@Html.DisplayFor(modelItem => item.PhoneNumber)</td>
                    <td class="text-center">
                        <a class='btn btn-info btn-xs' href="/Admin/Edit?id=@item.Id"><span class="glyphicon glyphicon-edit"></span> Düzenle</a>
                        <a id="delete" data-id="@item.Id" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> Sil</a>
                    </td>

                </tr>
                }
            </table>
        </div>
    </div>


}
else
{
    <h2>Kayıtlı Üye Bulunamadı</h2>
}


    <script type="text/javascript">
    $(document).on("click", "#delete", function () {
        var confirmDelete = confirm("Silme işlemini onaylıyor musunuz?");
        if (confirmDelete) {
            var id = $(this).attr("data-id");
            var deleteTR = $(this).closest("tr");
            $.ajax({
                url: "/Admin/Delete/" + id,
                type: 'POST',
                success: function () {
                    deleteTR.fadeOut(400, function () {
                        deleteTR();
                    });
                }
            });
        }
    });
    </script>




